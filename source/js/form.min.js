!function(){var e=document.querySelector(".review__form"),o=document.querySelector(".modal--success"),d=document.querySelector(".modal--error"),t=document.querySelector(".modal__button--error"),n=document.querySelector(".modal__button--success"),r=document.querySelector("#name"),c=document.querySelector("#surname"),a=document.querySelector("#phone"),u=document.querySelector("#email"),l=document.querySelector("#patronymic"),s=function(e){return""==e.value?(e.style.borderColor="red",!0):!(e.style.borderColor="#f2f2f2")},m=function(e){e.value=""},i=function(e){e.classList.remove("modal--hidden")};window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),o.classList.add("modal--hidden"),d.classList.add("modal--hidden"))}),t.addEventListener("click",function(e){e.preventDefault(),d.classList.add("modal--hidden")}),n.addEventListener("click",function(e){e.preventDefault(),o.classList.add("modal--hidden")}),e.addEventListener("submit",function(e){if(e.preventDefault(),s(r)||s(c)||s(a)||s(u)||s(l))i(d);else{var t=new XMLHttpRequest,n="name="+encodeURIComponent(r)+"&surname="+encodeURIComponent(c)+"&patronymic="+encodeURIComponent(l)+"&phone="+encodeURIComponent(a)+"&email="+encodeURIComponent(u);t.open("POST","https://echo.htmlacademy.ru",!0),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.onreadystatechange=function(){t.readyState==XMLHttpRequest.DONE&&200==t.status&&(m(r),m(c),m(l),m(a),m(u))},t.send(n),i(o)}})}();